Upstream: yes

From 951a583ca1b00b4eea05fb95ff4ed5995e030f49 Mon Sep 17 00:00:00 2001
From: Anant Kamath <kamathanant@gmail.com>
Date: Mon, 7 Oct 2013 04:15:55 +0530
Subject: [PATCH] Fixed to use ModemManagerQt 0.5.1 API correctly

BUG: 325377
---
 plugins/pintxo/modem-combobox.cpp | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/plugins/pintxo/modem-combobox.cpp b/plugins/pintxo/modem-combobox.cpp
index db949c4..9e15c0c 100644
--- a/plugins/pintxo/modem-combobox.cpp
+++ b/plugins/pintxo/modem-combobox.cpp
@@ -33,8 +33,8 @@ ModemComboBox::ModemComboBox(QWidget* parent) : QComboBox(parent)
         Q_FOREACH(ModemManager::ModemInterface::Ptr modem, modems) {
             ModemManager::ModemGsmCardInterface::Ptr simCard = ModemManager::findModemInterface(modem->udi(), ModemManager::ModemInterface::GsmCard).objectCast<ModemManager::ModemGsmCardInterface>();
             if(!simCard.isNull()) {
-                QString simIdent = simCard->getSimIdentifier();
-                QDBusReply<QString> spn  = simCard->getSpn();
+                QString simIdent = simCard->simIdentifier();
+                QDBusReply<QString> spn  = simCard->serviceProviderName();
                 addItem(spn.isValid() ? spn.value() : QLatin1String("Unknown modem"));
             }
         }
@@ -51,7 +51,7 @@ QString ModemComboBox::selectedSimIdentifier()
     if(!modem.isNull()){
         ModemManager::ModemGsmCardInterface::Ptr simCard = ModemManager::findModemInterface(modems.at(currentIndex())->udi(), ModemManager::ModemInterface::GsmCard).objectCast<ModemManager::ModemGsmCardInterface>();
         if(!simCard.isNull()) {
-            return simCard->getSimIdentifier();
+            return simCard->simIdentifier();
         }
     }
     return QString();
@@ -64,7 +64,7 @@ void ModemComboBox::setSelectedModem(const QString &selectedSimIdentifier)
         Q_FOREACH(ModemManager::ModemInterface::Ptr modem, modems) {
             ModemManager::ModemGsmCardInterface::Ptr simCard = ModemManager::findModemInterface(modem->udi(), ModemManager::ModemInterface::GsmCard).objectCast<ModemManager::ModemGsmCardInterface>();
             if(!simCard.isNull()) {
-                QString simIdent = simCard->getSimIdentifier();
+                QString simIdent = simCard->simIdentifier();
                 if (simIdent == selectedSimIdentifier) {
                     setCurrentIndex(i);
                     return;
-- 
1.8.4.2

