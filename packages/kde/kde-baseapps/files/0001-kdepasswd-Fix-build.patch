From 9fde17db6396f11255cb9d6d195af69b36c08db9 Mon Sep 17 00:00:00 2001
From: Heiko Becker <heirecka@exherbo.org>
Date: Fri, 10 Oct 2014 23:57:42 +0200
Subject: [PATCH] kdepasswd: Fix build

---
 kdepasswd/kdepasswd.cpp |  2 +-
 kdepasswd/passwddlg.cpp | 16 ++++++++--------
 2 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/kdepasswd/kdepasswd.cpp b/kdepasswd/kdepasswd.cpp
index c255b93..c028158 100644
--- a/kdepasswd/kdepasswd.cpp
+++ b/kdepasswd/kdepasswd.cpp
@@ -45,7 +45,7 @@ int main(int argc, char **argv)
             QLatin1String(KDEPASSWD_VERSION_STRING), i18n("Changes a UNIX password."),
             KAboutLicense::Artistic, i18n("Copyright (c) 2000 Geert Jansen"));
     aboutData.addAuthor(i18n("Geert Jansen"), i18n("Maintainer"), QLatin1String("jansen@kde.org"));
-    aboutData.setProgramIconName( "preferences-desktop-user-password" );
+    aboutData.setProgramIconName(QLatin1String("preferences-desktop-user-password"));
 
     QApplication app(argc, argv);
     QCommandLineParser parser;
diff --git a/kdepasswd/passwddlg.cpp b/kdepasswd/passwddlg.cpp
index 64aef54..069ea3a 100644
--- a/kdepasswd/passwddlg.cpp
+++ b/kdepasswd/passwddlg.cpp
@@ -51,8 +51,8 @@ void KDEpasswd1Dialog::accept()
             {
                 QString msg = QString::fromLocal8Bit(proc.error());
                 if (!msg.isEmpty())
-                    msg = "<p>\"<i>" + msg + "</i>\"";
-                msg = "<qt>" + i18n("Conversation with 'passwd' failed.") + msg;
+                    msg = QLatin1String("<p>\"<i>") + msg + QLatin1String("</i>\"");
+                msg = QLatin1String("<qt>") + i18n("Conversation with 'passwd' failed.") + msg;
                 KMessageBox::error(this, msg);
                 done(Rejected);
                 return;
@@ -157,8 +157,8 @@ void  KDEpasswd2Dialog::accept()
                 hide();
                 QString msg = QString::fromLocal8Bit(proc.error());
                 if (!msg.isEmpty())
-                    msg = "<p>\"<i>" + msg + "</i>\"";
-                msg = "<qt>" + i18n("Your password has been changed.") + msg;
+                    msg = QLatin1String("<p>\"<i>") + msg + QLatin1String("</i>\"");
+                msg = QLatin1String("<qt>") + i18n("Your password has been changed.") + msg;
                 KMessageBox::information(0L, msg);
                 return KNewPasswordDialog::accept();
             }
@@ -167,8 +167,8 @@ void  KDEpasswd2Dialog::accept()
             {
                 QString msg = QString::fromLocal8Bit(proc.error());
                 if (!msg.isEmpty())
-                    msg = "<p>\"<i>" + msg + "</i>\"";
-                msg = "<qt>" + i18n("Your password has not been changed.") + msg;
+                    msg = QLatin1String("<p>\"<i>") + msg + QLatin1String("</i>\"");
+                msg = QLatin1String("<qt>") + i18n("Your password has not been changed.") + msg;
 
                 // The pw change did not succeed. Print the error.
                 KMessageBox::sorry(this, msg);
@@ -178,8 +178,8 @@ void  KDEpasswd2Dialog::accept()
         default:
             QString msg = QString::fromLocal8Bit(proc.error());
             if (!msg.isEmpty())
-                msg = "<p>\"<i>" + msg + "</i>\"";
-            msg = "<qt>" + i18n("Conversation with 'passwd' failed.") + msg;
+                msg = QLatin1String("<p>\"<i>") + msg + QLatin1String("</i>\"");
+            msg = QLatin1String("<qt>") + i18n("Conversation with 'passwd' failed.") + msg;
             KMessageBox::sorry(this, msg);
             done(Rejected);
             return;
-- 
2.1.2

