# Copyright 2009, 2010, 2012 Ingmar Vanhassel
# Distributed under the terms of the GNU General Public License v2

if ever is_scm ; then
    SCM_REPOSITORY="git://anongit.kde.org/${PN}.git"
    require scm-git
else
    DOWNLOADS="mirror://kde/stable/${PN}/${PNV}.tar.bz2"
fi

require cmake [ api=2 ]

SUMMARY="A Qt library to access the api of Open Collaboration Services servers"
HOMEPAGE="http://www.kde.org"

LICENCES="|| ( LGPL-3 LGPL-2.1 )"
SLOT="0"
MYOPTIONS=""

DEPENDENCIES="
    build+run:
        x11-libs/qt:4[>=4.7.0]
"

if ever at_least scm ; then
    DEPENDENCIES+="
        build:
            kde/extra-cmake-modules[=scm]
    "
fi

BUGS_TO="kde@exherbo.org"

CMAKE_SRC_CONFIGURE_PARAMS=(
    -DATTICA_ENABLE_TESTS:BOOL=TRUE
    -DCMAKE_DISABLE_FIND_PACKAGE_Qt5Core:BOOL=TRUE
)

